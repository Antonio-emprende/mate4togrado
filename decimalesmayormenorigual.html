<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Decimales 4¬∫ ‚Äî Mayor, menor o igual (2 columnas con color)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{
      --azul:#2563eb; --verde:#10b981; --borde:#e2e8f0; --texto:#0f172a;
      --celeste:#e0f2fe; /* columna izquierda */
      --amarillo:#fef9c3; /* columna derecha */
    }
    body{background:linear-gradient(180deg,#f8fbff 0%,#fff 100%);font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;color:var(--texto)}
    .game-card{border:none;border-radius:1rem;box-shadow:0 10px 28px rgba(2,6,23,.08)}
    .title-badge{background:linear-gradient(90deg,var(--azul),var(--verde));-webkit-background-clip:text;background-clip:text;color:transparent;font-weight:800}
    .score-chip{font-weight:800;border-radius:999px;padding:.45rem 1rem;background:#eef7ff;color:#0d47a1;border:1px solid #d7ebff}
    .btn-fab{border-radius:999px;padding:.55rem .9rem;font-weight:700;box-shadow:0 6px 20px rgba(30,136,229,.25)}

    /* ===== Grid principal: dos columnas ===== */
    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:16px;
    }
    @media (max-width: 768px){
      .grid2{grid-template-columns:1fr}
    }

    /* ===== Columnas coloreadas ===== */
    .colbox{
      border:1px solid var(--borde);
      border-radius:14px;
      padding:10px;
    }
    .colbox.left{ background:var(--celeste) }
    .colbox.right{ background:var(--amarillo) }

    /* ===== Filas dentro de cada columna (n√∫mero | selector | n√∫mero) ===== */
    .rowline{
      display:grid;
      grid-template-columns: 1fr max-content 1fr;
      align-items:center;
      gap:10px;
      padding:.55rem .6rem;
      border-radius:10px;
      background:rgba(255,255,255,.35); /* ligera placa para mayor legibilidad */
      border:1px dashed rgba(0,0,0,.06);
    }
    .rowline + .rowline{ margin-top:8px }

    .num{
      font-variant-numeric: tabular-nums; font-feature-settings:"tnum";
      font-weight:800; letter-spacing:.2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .num.right{text-align:right}

    .pick{width:72px;padding:.18rem .4rem;border-radius:10px;border:2px solid #e2e8f0;font-weight:800;background:#fff}
    .mark{display:inline-flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:999px;font-weight:900;margin-left:6px}
    .ok{background:#dcfce7;color:#15803d;border:2px solid #86efac}
    .bad{background:#fee2e2;color:#b91c1c;border:2px solid #fecaca}

    .col-title{
      font-weight:800; text-transform:uppercase; letter-spacing:.04em; opacity:.8;
      margin:2px 0 8px;
    }

    /* ===== Bot√≥n centrado inferior (Men√∫ principal) ===== */
    .bottom-return-wrap{
      display:flex; justify-content:center; align-items:center;
      margin: 18px auto 46px;   /* un rengl√≥n debajo del cajet√≠n */
    }
    .btn-main-return{
      background:#ef4444; color:#fff; border:none; border-radius:999px;
      padding:.8rem 1.2rem; font-weight:900; box-shadow:0 10px 24px rgba(239,68,68,.35);
      animation:blinkReturn 1.15s ease-in-out infinite;
    }
    @keyframes blinkReturn{
      0%,100%{ transform:scale(1); }
      50%{ transform:scale(1.06); }
    }
  </style>
</head>
<body>
  <div class="container py-4 py-md-5">
    <div class="row justify-content-center">
      <div class="col-12 col-xxl-10">
        <div class="card game-card">
          <div class="card-body p-3 p-md-4 p-lg-5">

            <header class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-3 mb-3">
              <div>
                <h1 class="h3 m-0 title-badge">Decimales 4¬∫ ‚Äî Mayor, menor o igual</h1>
                <p class="text-secondary m-0">Dos <strong>columnas</strong>: la izquierda en <span style="color:#2563eb">celeste</span>, la derecha en <span style="color:#b45309">amarillo</span>. En cada fila: n√∫mero ‚Äì selector ‚Äì n√∫mero.</p>
              </div>
              <div class="d-flex align-items-center gap-2 flex-wrap">
                <span id="score" class="score-chip" aria-live="polite">Puntaje: 0 / 100</span>
                <button id="checkBtn" class="btn btn-success btn-fab" type="button">‚úîÔ∏è Revisar</button>
                <button id="resetBtn" class="btn btn-primary btn-fab" type="button">üîÑ Nueva tanda</button>
              </div>
            </header>

            <div class="grid2">
              <!-- Columna izquierda (celeste) -->
              <div class="colbox left">
                <div class="col-title">Columna izquierda</div>
                <div id="colLeft" aria-label="Ejercicios columna izquierda"></div>
              </div>

              <!-- Columna derecha (amarillo) -->
              <div class="colbox right">
                <div class="col-title">Columna derecha</div>
                <div id="colRight" aria-label="Ejercicios columna derecha"></div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bot√≥n centrado inferior -->
  <div class="bottom-return-wrap">
    <button id="mainMenuBtn" class="btn-main-return">‚Üê Men√∫ principal</button>
  </div>

  <!-- Modal resultado -->
  <div class="modal fade" id="resultModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content text-center p-2 p-md-3">
        <div class="modal-header border-0 justify-content-center">
          <div class="display-4">üéâ‚ú®</div>
        </div>
        <div class="modal-body">
          <h3 id="resultTitle" class="mb-2">Resultado</h3>
          <p id="resultText" class="lead mb-0"></p>
        </div>
        <div class="modal-footer border-0 justify-content-center">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Seguir practicando</button>
        </div>
      </div>
    </div>
  </div>

  <script>
  // ===== Utilidades
  const $ = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));
  const rnd = (a,b)=>Math.floor(Math.random()*(b-a+1))+a;

  // Genera decimales con 1‚Äì3 cifras
  function randDecimal(){
    const places = rnd(1,3);
    const entero = rnd(0,9);
    const frac = String(rnd(0, Math.pow(10,places)-1)).padStart(places,'0');
    return `${entero}.${frac}`;
  }
  // Par igual exacto
  function equalPair(){
    const p = rnd(1,3), e = rnd(0,9), f = String(rnd(0,Math.pow(10,p)-1)).padStart(p,'0');
    const x = `${e}.${f}`; return [x,x];
  }
  function toNum(s){ return Number(s.replace(',','.')); }

  // Construye N ejercicios totales (N par), mitad para cada columna
  function buildRound(N=16){
    if(N%2!==0) N++; // asegurar par
    const arr=[];
    for(let i=0;i<Math.min(4,N);i++) arr.push(equalPair()); // algunos iguales
    while(arr.length<N){
      const a=randDecimal(), b=randDecimal();
      if(a===b) continue;
      arr.push([a,b]);
    }
    return arr.sort(()=>Math.random()-0.5);
  }

  // Estado
  let dataLeft=[], dataRight=[];

  function render(){
    const L = $('#colLeft'), R = $('#colRight');
    L.innerHTML=''; R.innerHTML='';
    dataLeft.forEach(([A,B],i)=>{
      const id = `L${i}`;
      const row = document.createElement('div');
      row.className = 'rowline';
      row.innerHTML = `
        <div class="num">${A}</div>
        <div class="d-flex align-items-center justify-content-center">
          <select id="op-${id}" class="pick" aria-label="Selecciona el signo">
            <option value=">">&gt;</option>
            <option value="=">=</option>
            <option value="<">&lt;</option>
          </select>
          <span id="mk-${id}" class="mark" style="visibility:hidden">‚úì</span>
        </div>
        <div class="num right">${B}</div>`;
      L.appendChild(row);
    });
    dataRight.forEach(([A,B],i)=>{
      const id = `R${i}`;
      const row = document.createElement('div');
      row.className = 'rowline';
      row.innerHTML = `
        <div class="num">${A}</div>
        <div class="d-flex align-items-center justify-content-center">
          <select id="op-${id}" class="pick" aria-label="Selecciona el signo">
            <option value=">">&gt;</option>
            <option value="=">=</option>
            <option value="<">&lt;</option>
          </select>
          <span id="mk-${id}" class="mark" style="visibility:hidden">‚úì</span>
        </div>
        <div class="num right">${B}</div>`;
      R.appendChild(row);
    });
    setScore(0);
  }

  function correctOp(a,b){
    const A=toNum(a), B=toNum(b);
    if(A===B) return '=';
    return A>B?'>':'<';
  }

  function checkAll(){
    let ok=0, total=0;

    dataLeft.forEach(([A,B],i)=>{
      total++;
      const id=`L${i}`, pick=$(`#op-${id}`).value.trim();
      const good = (pick===correctOp(A,B));
      const mk=$(`#mk-${id}`); mk.style.visibility='visible'; mk.textContent=good?'‚úì':'‚úñ'; mk.className='mark '+(good?'ok':'bad');
      if(good) ok++;
    });
    dataRight.forEach(([A,B],i)=>{
      total++;
      const id=`R${i}`, pick=$(`#op-${id}`).value.trim();
      const good = (pick===correctOp(A,B));
      const mk=$(`#mk-${id}`); mk.style.visibility='visible'; mk.textContent=good?'‚úì':'‚úñ'; mk.className='mark '+(good?'ok':'bad');
      if(good) ok++;
    });

    const val = (ok/total)*100;
    setScore(val);
    showResult(val);
  }

  function setScore(v){ $('#score').textContent = `Puntaje: ${Math.round(v)} / 100`; }

  function showResult(val){
    const t=$('#resultTitle'), txt=$('#resultText');
    if(val===100){ t.textContent='¬°Has ganado!'; txt.textContent='¬°Sacaste un 100! üòä'; confetti(); }
    else if(val>=70){ t.textContent='¬°Muy bien!'; txt.textContent=`Tu puntaje fue ${val.toFixed(0)} / 100. Revisa los que quedaron en rojo.`; }
    else { t.textContent='¬°Sigue practicando!'; txt.textContent=`Tu puntaje fue ${val.toFixed(0)} / 100.`; }
    new bootstrap.Modal('#resultModal').show();
  }

  function confetti(){
    const burst=document.createElement('div');
    burst.style.position='fixed'; burst.style.inset='0'; burst.style.pointerEvents='none'; burst.style.zIndex='2000';
    document.body.appendChild(burst);
    const emojis=['‚ú®','üéâ','‚≠ê','üéØ','üí´','üèÜ','üéà','ü•≥'];
    for(let i=0;i<70;i++){
      const s=document.createElement('div');
      s.textContent=emojis[Math.floor(Math.random()*emojis.length)];
      s.style.position='absolute'; s.style.left=Math.random()*100+'%'; s.style.top='-10%';
      s.style.fontSize=(16+Math.random()*24)+'px'; s.style.transition='transform 1.5s ease, opacity 1.5s ease';
      burst.appendChild(s);
      requestAnimationFrame(()=>{ s.style.transform=`translateY(${120+Math.random()*140}vh) rotate(${Math.random()*360}deg)`; s.style.opacity='0'; });
    }
    setTimeout(()=>burst.remove(),1600);
  }

  function newRound(){
    const all = buildRound(16);     // ‚Üê total de ejercicios
    const half = Math.floor(all.length/2);
    dataLeft  = all.slice(0,half);
    dataRight = all.slice(half);
    render();
  }

  // Eventos
  document.addEventListener('click',(e)=>{
    if(e.target.id==='checkBtn') checkAll();
    if(e.target.id==='resetBtn') newRound();
  });

  // Bot√≥n Men√∫ principal
  (function initMainBtn(){
    const btn = document.getElementById('mainMenuBtn');
    if(!btn) return;
    btn.addEventListener('click', ()=>{
      if(history.length > 1) history.back();
      else window.location.href = 'index.html';
    });
  })();

  // Inicio
  newRound();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
